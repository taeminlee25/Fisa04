## DBMS
- 새로운 기술을 빠르게 습득하는 효과적인 방법은 해당 분야의 핵심 개념을 정확히 이해하고 그 개념을 명칭한 용어를 암기하는 거라고 생각합니다.

#### 개념 및 용어
- <b>DB(DataBase)</b>란 여러 사람이 공유하여 사용할 목적으로 체계화해 통합, 관리하는 데이터의 집합을 의미합니다.
- 그렇다면 하나의 엑셀 파일을 여러 명이 공유해가며 자료를 추가하거나 삭제할 수 있다면, 엑셀 파일도 DB로 사용할 수 있는지 궁금했습니다.
- 저는 엑셀 파일은 행과 열을 사용하여 체계적으로 저장할 수 있기 때문에 엑셀 파일도 DB라고 생각했습니다.  
- 그렇지만 DB의 핵심은 여러 사용자가 **동시**에 접근과 수정이 가능해야 하고 **데이터 간 관계**를 관리할 수 있어야 한다는 점에서 차이가 납니다.
- 엑셀 파일은 누군가가 값을 수정한다면 나머지 사용자는 읽기 모드로만 엑셀을 사용할 수 있을 것입니다.
- 하지만 DB는 동시에 삽입 및 수정이 가능합니다. 그리고 DB는 자료 간 관계가 맺어져 있습니다('자료 간 관계'가 무슨 말인지 아직은 잘 모르지만 뒤에 설명하겠습니다). 
- 그래서 DB에서는 데이터를 엮고 엮어서 찾을 수 있습니다.
- 따라서, 엑셀 파일은 DB로 사용할 수는 있지만 좀 모자란 친구입니다.

<figure style="text-align: center;">
    <img src = 'https://github.com/user-attachments/assets/aa0df094-e79b-4e31-8c35-5bd582d25f9a' alt='' width='400'>
</figure>

---

- 데이터를 수집한다면, 수집한 데이터를 어떤 규칙으로 정리해서 어떻게 보관할까를 고민해야 합니다.
- 데이터 관리 체계(시스템)를 만들어야 하는거죠.
- 감사하게도, 이전 사람들이 이미 데이터의 특징과 보관 목적에 따라 데이터 관리 체계를 만들어놨습니다.
- **데이터 레이크**, **데이터 마트**, **데이터 웨어하우스** 입니다.
- 그럼 3개 데이터 관리 시스템의 차이는 무엇일까요?
    > <span style="color:red">데이터 레이크</span> : 모든 종류의 데이터를 있는 그대로(Raw Data), 한 곳에 모아두는 큰 저장소
    > <span style = "color:orange">데이터 웨어하우스</span> : 여러 소스에서 수집한 데이터들을 정제하고 구조화하여 분류해서 저장
    > <span style = "color:green">데이터 마트</span> : 사내 특정 부서나 팀에서 필요한 데이터, 즉 단일 주제 등 한정된 데이터 모음
- 용어를 보니 데이터를 저장하는 **저장소** 규모에 따라 구분한거 같아 보입니다.
- 이 자료는 여기로, 저 자료는 저기로~ 같은 체계처럼 보이지는 않는데 왜 데이터 관리 시스템이라고 할까요? 
- 제 생각이긴 합니다만, 우리가 홈플러스나 이마트 같은 대형마트를 갈 때와 집 앞 GS 편의점에 갈 때는 상품들이 분류되어 진열된 방식이 동일하다고 생각하지는 않습니다(상품 가짓수도 마찬가지죠?).
- 대형마트! 라는 단어 자체에 대형마트만의 상품 진열 방식과 운영 방식이 함축되어 있는 겁니다.
- 그래서 "장 보러, 이마트 가자~" 말만 들어도 머릿속에는 이마트의 진열 구조가 떠오르고, 샴푸를 사려면 몇 층의 몇 번 코너에 가야하겠다는 생각을 합니다.
- 이와 마찬가지로, 데이터 레이크, 데이터 웨어하우스, 데이터 마트라는 용어들은 각각의 고유한 데이터 관리 방식과 구조를 내포하고 있습니다. 이들은 단순한 저장소가 아니라, 데이터의 수집, 정리, 분석, 활용을 위한 체계적인 시스템을 의미합니다.
---
- 쿼리(=질의) -> DB에 쿼리를 날려서 해당 쿼리에 맞는 데이터를 가져온다(사장님~, 주문이요~, 근데 요청사항이 좀 많은...).
- DB의 구조는 다음과 같다.
- 테이블? 테이블은 엑셀 시트랑 같은 건가?
- 데이터의 무결성이라...
- 트랜잭션은 'DB의 상태를 변경시키는 작업 단위' 이다.
- 은행에서 한 계좌에서 다른 계좌로 계좌 이체를 하는 상황을 상상해보자.
- 계좌 이체 중 발생하는 행위는 '출금'과 '입금'이다.
- 내가 출금을 했는데 상대방의 계좌로 입금이 되지 않는다면, 상대방이 물건을 주지 않겠지요?
- 즉, '계좌 이체' 거래는 '출금'과 '입금' 둘 다 성공되어야 합니다.
- 둘 중 하나라도 실패하면 '계좌 이체' 거래는 취소되어야 합니다.
- 계좌이체는 트랜잭션인거죠!
- 그럼 출금은 트랜잭션이 아닌건가?
- 인덱스 = 정렬해놓은 컬럼 사본!
- 스키마 내에 있는 테이블, 뷰, 스토어 프로시져, 함수
- 스키마는 데이터베이스를 구성하기 위한 논리적 구조와 규칙을 정의한 것임.
- 테이블은 데이터베이스의 기본 저장 단위로 행과 열로 구성됨.
- 뷰는 하나 이상의 테이블에서 유도된 가상 테이블임.
- 저장 프로시져는 데이터베이스에 저장되어 있는 SQL문의 집합으로, 특정 작업을 수행하기 위해 이름을 붙여 저장해둔 프로그램임.
- 서브 쿼리는 쿼리 안에 쿼리를 작성하는 방식임(속도가 빨라요).
- MYSQL 은 SQL 표준에서 지원하는 모든 숫자 타입을 제공함.
- 숫자 타입 중 NUMERIC()은 SQL에서 사용되는 고정 소수점 숫자 데이터 타입입니다. 
- 예를 들어 NUMERIC(7,2) 데이터 타입의 특성은 다음과 같습니다:
    - 정밀도와 스케일 - 전체 정밀도(precision): 7 / 소수점 이하 자릿수(scale): 2
    - 이는 다음을 의미합니다. 총 7자리의 숫자를 저장할 수 있고 그 중 2자리는 소수점 이하 숫자입니다.

#### 실사용
- MySQL에서는 대소문자를 구분하지 않음.
- but! 암묵적인 규칙이 있음. 명령어는 대소문자로 입력, 변수명은 소문자로 작성해야 함.
- MySQL에서는 항등연산자가 <b>==</b> 이 아니라 <b>=</b> 임.
- <b>*</b> 은 모든 값을 조회하기 때문에 메모리 부하가 커서 잘 사용하지 않음.
- 쿼리문 이쁘게 작성하기를 알아보기
    - 어떻게 해야할까요~?
- CHAR(n)은 고정 길이의 자료형으로 문자열 길이가 n보다 작을 시, 나머지 공간은 공백처리로 들어감.
- 바이너리 형태로 저장하고 싶다면? BLOB으로 지정하기
- 왜 BLOB 자료형은 좋지 않을까요?

- **과목 IN ('국어', '수학', '영어')** 은  <b>(과목 = '국어' OR  과목 ='수학' OR  과목 ='영어')</b>와 같은 의미다.
- MySQL에서는 SELECT 절에서 정의된 별칭을 GROUP BY 절에서 사용가능함!.
- 쿼리를 보기 좋게 정렬 : Ctrl + B (Ctrl키 + b)
- 쿼리문에서 검색 문자열 내 와일드카드가 포함되어 있다면 탈출! 문자를 넣고 뒤에 ESCAPE 문자를 선언해야 합니다(아래처럼요).
    ~~~SQL
    SELECT *
    FROM USER_INFO
    WHERE USER_ID LIKE "%\_%" ESCAPE "\"; 
    ~~~
- **JOIN 절**은 무조건 **FROM 절** 안에 위치해야 합니다.
- SQL에서는 정수와 정수를 나누면 몫만 반환되고 소수점 이하의 값은 반환되지 않는다.
- 실수형으로 형변환을 한 후 나누면 소수점 이하의 값도 얻을 수 있다.
- **CASE문** 작성법
    >CASE 컬럼 
&emsp;WHEN 조건1 THEN 값1
&emsp;WHEN 조건2 THEN 값2
&emsp;ELSE 값3
&emsp;END 
- **COALESCE문**은 병합한다는 의미로 해당 함수는 두 컬럼을 인자로 받습니다. 
- 행마다 NULL이 있는지 보고 NULL이 있다면 첫번째 칼럼의 값으로, 첫번쨰 칼럼도 NULL이라면 두번쨰 칼럼의 값으로 두번쨰 칼럼의 값도 NULL이면 NULL을 반환합니다.
- COMMIT, ROLLBACK, DELETE, UPDATE
- DB는 기존에 있는 데이터들의 조회만을 존재하는게 아닙니다.
- DB에 데이터를 추가하거나 삭제하거나 변경도 해야겠죠?
- 추가, 삭제, 변경과 같은 데이터를 조작하는 명령은 INSERT문 ,
- PREPARE 문을 공부합시다.
- 동적 SQL을 만드는 방법을 공부합시다.
- **CASCADE문** 
###### SQL 구문의 순서
- 동작 순서는 어디서(FROM) -> 무엇을 어떻게(WHERE) -> 그룹화(GROUP BY)해서 -> 필요한 것만(SELECT) -> 정렬하여(ORDER BY) -> 출력(LIMIT) 순 입니다.
###### 집계 함수(Aggregate Function)
- 그룹화 하고 나면 집계함수를 이용해서 그룹별로 연산을 해야합니다.
###### 서브쿼리
- SELECT 안에는 또 다른 SELECT가 들어갈 수 있습니다.
- 이것을 서브쿼리라고 합니다.
###### 데이터의 입력/수정/삭제
- 테이블에 데이터를 변경(입력/수정/삭제)해야 하는 경우가 발생합니다.
- 입력은 INSERT문, 수정은 UPDATE문, 삭제는 DELETE 문을 이용합니다.
    - INSERT 문은 열 순서를 지켜가면서 값을 넣어야 합니다. 
        > INSERT INTO [테이블명] (열 1, 열 2, 열 3) VALUES (값 1, 값 2, 값 3)
    - UPDATE 문은 기존에 입력되어 있는 값을 수정하는 명령입니다.



---
###### 명심 또 명심!
- AUTO_INCREMENT로 지정하는 열은 꼭 PRIMARY KEY로 지정해야 합니다(근데 또 꼭은 아님...).
